<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>English-Steno | BrightEducationSteno</title>
    <meta content="" name="description" />
    <meta content="" name="keywords" />

    <!-- Favicons -->
    <link href="assets/img/BrightEducationSteno.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <!-- Google Fonts -->
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet" />

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet" />
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet" />
    <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet" />
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

    <!--  Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet" />
    <link href="assets/css/slider.css" rel="stylesheet" />


</head>

<body>
    <!-- Designed and Developed by Sunil Barara -->
  <!--Mobile Number: 7878438668 -->
    <app-contactcareernavbar></app-contactcareernavbar>
  
    <div class="section-title" style="padding-left: 4rem; padding-top: 10rem">
        <!-- <h2>Engilsh Steno</h2>  -->
        <p>English Steno Tests</p>
    </div>
    <div class="body-container">
        <div class="main-container bgc-white">
            <div role="main" class="main-content">
                <div class="page-content">
                    <style>
                        .success {
                            color: #44b267;
                        }

                        .fail {
                            color: #e81c4e;
                        }

                        .btn-sm {
                            background-color: #21336a;
                        }

                        /*-- special --*/
                        .special,
                        #news,
                        .w3_content_agilleinfo_inner,
                        .team-section,
                        .plans-section {
                            padding: 25px 0;
                        }

                        h3.tittle,
                        h2.ptbl-inner-h-title,
                        h3.ptbl-inner-h-title {
                            color: #e83f3f;
                            font-size: 2.5em;
                            margin: 0;
                            text-align: center;
                            font-weight: 600;
                            letter-spacing: 3px;
                        }

                        h2.ptbl-inner-h-title,
                        h3.ptbl-inner-h-title {
                            margin-bottom: 1em;
                            text-transform: uppercase;
                        }

                        h3.tittle.two {
                            color: #fff;
                        }
 
                    </style>
                    <!-- Our price plan section -->
                    <div class="plans-section" style="    padding: 2rem;">


                        <!-- Main Body Starts -->
                        <div class="card bcard h-auto" style="overflow-x:scroll!important;">
                            <table id="datatable"
                                class="d-style w-100 table text-dark-m1 text-95 border-y-1 brc-black-tp11 collapsed dtr-table">
                                <!-- add `collapsed` by default ... it will be removed by default -->
                                <!-- thead with .sticky-nav -->
                                <thead class="text-secondary-m1 text-uppercase text-85">
                                    <tr>
                                        <th class="bgc-yellow-l3">S.No.</th>
                                        <th class="bgc-yellow-l3">Date</th>
                                        <th class="bgc-yellow-l3">Course Name</th>
                                        <th class="bgc-yellow-l3">Test Language</th>
                                        <th class="bgc-yellow-l3">Test Name</th>
                                        <th class="bgc-yellow-l3">Dictation Speed</th>
                                        <th class="bgc-yellow-l3">Total Words</th>
                                        <th class="bgc-yellow-l3">Duration</th>
                                        <th class="bgc-yellow-l3">Action</th>
                                    </tr>
                                </thead>
                                <tbody class="pos-rel" id="TableData">

                                </tbody>
                            </table>
                        </div>



                    </div>
                </div>
            </div>
        </div><!-- .modal-aside -->
    </div>
    </div>
    <app-whatsapp></app-whatsapp>
    <app-footer></app-footer>
    <div id="preloader"></div>
    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
            class="bi bi-arrow-up-short"></i></a>
    <!-- Vendor JS Files -->
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>

    <script src="https://code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.js"></script>

    <!--   Main JS File -->
    <script defer src="assets/js/main.js"></script>
    <script src="assets/js/MyComponents.js"></script>
    <script>
        $(document).ready(function () {
            checkIsSprStudent();
            setTimeout(() => {
                let SPR_StudentPhone = localStorage.getItem("SPR_StudentPhone");
                if (SPR_StudentPhone) {
                    getEnglishCource();
                }

            }, 1000)
            document.getElementById('header').style.backgroundColor = '#38434b'
        })
        function getEnglishCource() {
            let SPR_StudentPhone = localStorage.getItem("SPR_StudentPhone");
            var myHeaders = new Headers();
            myHeaders.append("Content-Type", "application/json");
            myHeaders.append("Cookie", "BrowserId=g1Zrr_uOEe2gTR9C7VyOiA; CookieConsentPolicy=0:1; LSKey-c$CookieConsentPolicy=0:1");

            var raw = JSON.stringify({
                "Phone": SPR_StudentPhone,
                "getEnglishCourse": "getEnglishCourse"
            });

            var requestOptions = {
                method: 'POST',
                headers: myHeaders,
                body: raw,
                redirect: 'follow'
            };
            fetch("https://cloudcertitude15-dev-ed.develop.my.salesforce-sites.com/services/apexrest/BrightEducationSteno", requestOptions)
                .then(response => response.json())
                .then(result => {

                    if (result != 'Something went wrong please try again later.' && result != 'You don\'t buy any course.') {
                        result = JSON.parse(result);
                        console.log('result=>', result)
                        result.forEach((currentItem, idx) => {
                            const dateString = currentItem.LastModifiedDate;
                            const dateObject = new Date(dateString);

                            const formattedDate = dateObject.toLocaleDateString("en-US", {
                                month: "short",
                                day: "numeric",
                                year: "numeric",
                            });
                            let SRNo = idx + 1;
                            let words = currentItem.Audio_Text__c.trim().split(/\s+/);
                            let wordCount = words?.length;
                            const tableHTML = `<tr class="d-style bgc-h-default-l4">
                                        <td>${SRNo}</td>
                                        <td>${formattedDate}</td>
                                        <td>${currentItem.Courses__r.Name}</td>
                                        <td>${currentItem.Test_Language__c}</td>
                                        <td>${currentItem.Name}</td>
                                        <td>${currentItem.Dictation_Speed__c} WPM</td>
                                        <td>${wordCount} Words</td>
                                        <td>${currentItem.Duration__c} Mins</td>

                                        <td>
                                            <center>
                                                <a href="AudioTest.html?Id=${currentItem.Id}"><button
                                                        class="btn btn-sm btn-success"><i class="fas fa-play"></i> Start
                                                        Test</button></a>

                                            </center>
                                        </td>

                                    </tr>`;
                            TableData.innerHTML += tableHTML;
                        })

                    } else {
                        const tableHTML = `<tr class="d-style bgc-h-default-l4">
                                        <td style="text-align: center;background: #8c93aa;" colspan="9">${result}</td>
                                         

                                    </tr>`;
                        TableData.innerHTML += tableHTML;
                    }


                })
                .catch(error => console.log('error=', error));

        }

    </script>

    <!-- include common vendor scripts used in demo pages -->
    <script src="js/jsone.js"></script>
    <script src="js/jstwo.js"></script>
    <script src="js/jsthree.js"></script>
    <script>
        document.addEventListener("contextmenu", (event) => {
            event.preventDefault();
        });
    </script>


    <!-- include ace.js -->
    <script src="dist/js/ace.min.js"></script>
    <!-- <script defer src="assets/js/main.js"></script>
    <script defer src="assets/js/MyComponents.js"></script> -->
</body>

</html>