<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Typing | BrightEducationSteno</title>
    <meta content="" name="description" />
    <meta content="" name="keywords" />

    <!-- Favicons -->
    <link href="assets/img/BrightEducationSteno.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <!-- Google Fonts -->
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet" />

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet" />
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet" />
    <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet" />
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

    <!--  Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet" />
    <link href="assets/css/slider.css" rel="stylesheet" />
    <style>
        @font-face {
            font-family: Hindi;
            src: url(font/Hindi.ttf);
        }

        @font-face {
            font-family: 'Hindi';
            src: url('font/Hindi.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        .hindiFont {
            font-family: 'Hindi';
        }
    </style>

</head>

<body>
    <!-- Designed and Developed by Sunil Barara -->
    <!--Mobile Number: 7878438668 -->
    <app-contactcareernavbar></app-contactcareernavbar>


    <div class="section-title" style="padding-left: 4rem; padding-top: 10rem">
        <h2>Typing Test</h2>
        <p>Show your Typing skill</p>
    </div>
    <div class="body-container">
        <div class="main-container bgc-white">
            <div role="main" class="main-content">
                <div class="page-content">
                    <style>
                        .success {
                            color: #44b267;
                        }

                        .fail {
                            color: #e81c4e;
                        }

                        h3.tittle,
                        h2.ptbl-inner-h-title,
                        h3.ptbl-inner-h-title {
                            color: #e83f3f;
                            font-size: 2.5em;
                            margin: 0;
                            text-align: center;
                            font-weight: 600;
                            letter-spacing: 3px;
                        }

                        h2.ptbl-inner-h-title,
                        h3.ptbl-inner-h-title {
                            margin-bottom: 1em;
                            text-transform: uppercase;
                        }

                        h3.tittle.two {
                            color: #fff;
                        }
 
                    </style>
                    <!-- Our price plan section -->
                    <div class="plans-section" style="padding:21px;overflow-x: scroll!important;">

                        <!-- -------------------------- TYping Modal Code is Here   -------------------- -->
                        <!-- Main Body Starts -->
                        <div id="typingModalId" class="container" style="
    padding: 1px 30px;
   
    display: none;
    max-width: 100rem;">
                            <div class="stats" style="    text-align: right;
font-size: 18px;
margin-bottom: 30px;
display: flex;
justify-content: space-between;">
                                <div style="display:flex; justify-content: center; align-items:center;"> <button
                                        width="2px" style=" 
                background-color: #ff4a17;
                color: white;
                border-width: 0px;
                height: 31px;
                border-radius: 5px;" onclick="handleGoBack()">Go Back</button>
                                </div>
                                <div style="display:flex; justify-content:center;">
                                    <p style="padding: 4px;
border-radius: 6px;   
    
    font-size: 36px;
    font-weight: 700;
    text-transform: uppercase;
    font-family: " Poppins", sans-serif; color: #263d4d; }">Time: <span id="timer">0s</span></p>
                                    <!-- <p style=" 
padding: 4px;
border-radius: 6px;    margin: 0;
    margin: 0;
    font-size: 36px;
    font-weight: 700;
    text-transform: uppercase;
    font-family: " Poppins", sans-serif; color: #263d4d; }">Mistakes: <span id="mistakes">0</span></p> -->
                                </div>

                            </div>
                            <div id="quote" style="    text-align: justify;
    margin: 50px 0 30px 0;
    border: solid rgb(25 45 102) 2px;
    padding: 2rem;
    border-radius: 16px;
    overflow: auto;
    height: 14rem;
    font-family: monospace;
    font-weight: 700;
    font-size: 23px;" onmousedown="return false" onselectstart="return false"></div>
                            <textarea style="resize: none;
width: 100%;
border-radius: 5px;
padding: 10px 5px;
font-size: 16px;
font-family: monospace;
    font-weight: 700;
    font-size: 23px;" rows="3" id="quote-input" placeholder="Type here when the test starts.."
                                class="hindiFont"></textarea>
                            <button class="button" style="float: right;
  margin-top: 20px;
  background-color: rgb(25 45 102);
  color: #ffffff;
  border: none;
  padding: 10px 30px;
  border-radius: 5px;
  font-size: 18px;" id="start-test" onclick="startTest()">Start Test</button>
                            <button class="button" style="float: right;
  margin-top: 20px;
 background-color: rgb(25 45 102);
  color: #ffffff;
  border: none;
  padding: 10px 30px;
  border-radius: 5px;
  font-size: 18px;" id="stop-test" onclick="displayResult()">Stop Test</button>
                            <div class="result" style="margin-top: 40px;
display: none;">
                                <h3>Result</h3>
                                <div class="wrapper" style="  display: flex;
justify-content: space-around;">
                                    <p>Accuracy: <span id="accuracy"></span></p>
                                    <p>Speed: <span id="wpm"></span></p>
                                    <p>Total Type: <span id="TotalTyped"></span></p>
                                    <p>Mistakes: <span id="mistakes"></span></p>
                                </div>
                            </div>
                        </div>


                        <!-- ----------------------- Table code is here ------------------- -->

                        <table id="datatable"
                            class="d-style w-100 table text-dark-m1 text-95 border-y-1 brc-black-tp11 collapsed dtr-table">
                            <!-- add `collapsed` by default ... it will be removed by default -->
                            <!-- thead with .sticky-nav -->
                            <thead class="text-secondary-m1 text-uppercase text-85">
                                <tr>
                                    <th class="bgc-yellow-l3">S.No.</th>
                                    <th class="bgc-yellow-l3">Date</th>
                                    <th class="bgc-yellow-l3">Course Name</th>
                                    <th class="bgc-yellow-l3">Test Language</th>
                                    <th class="bgc-yellow-l3">Test Name</th>
                                    <th class="bgc-yellow-l3">Total Words</th>
                                    <th class="bgc-yellow-l3">Action</th>
                                </tr>
                            </thead>
                            <tbody class="pos-rel" id="TableData">
                                <!-- <tr class="d-style bgc-h-default-l4">
                                    <td>1</td>
                                    <td>2023-12-21</td>
                                    <td>Hindi</td>
                                    <td>Demo Test 100 wpm (SSC)</td>
                                    <td>100WPM</td>
                                    <td>1000 Words</td>
                                    <td>65 Mins</td>

                                    <td>
                                        <center>
                                            <a><button class="btn btn-sm btn-success" onclick="handleStartTest()"><i
                                                        class="fas fa-play"></i> Start
                                                    Typing</button></a>

                                        </center>
                                    </td>

                                </tr> -->

                            </tbody>
                        </table>


                    </div>
                </div>
            </div>
        </div><!-- .modal-aside -->
    </div>
    </div>
    <app-whatsapp></app-whatsapp>
    <app-footer></app-footer>
    <div id="preloader"></div>
    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
            class="bi bi-arrow-up-short"></i></a>


    <!-- Vendor JS Files -->
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>

    <script src="https://code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.js"></script>

    <!--   Main JS File -->
    <script defer src="assets/js/main.js"></script>
    <script src="assets/js/MyComponents.js"></script>
    <script>
        $(document).ready(function () {
            checkIsSprStudent();
            document.getElementById('header').style.backgroundColor = '#38434b'
        })
    </script>
    <Script>
        let time = 60;
        let totalTimeInSecond;
        $(document).ready(function () {
            const TableData = document.getElementById('TableData');
            let SPR_StudentPhone = localStorage.getItem("SPR_StudentPhone");
            var myHeaders = new Headers();
            myHeaders.append("Content-Type", "application/json");
            myHeaders.append("Cookie", "BrowserId=g1Zrr_uOEe2gTR9C7VyOiA; CookieConsentPolicy=0:1; LSKey-c$CookieConsentPolicy=0:1");

            var raw = JSON.stringify({
                "Phone": SPR_StudentPhone,
                "getTypingContent": 'getTypingContent'
            });

            var requestOptions = {
                method: 'POST',
                headers: myHeaders,
                body: raw,
                redirect: 'follow'
            };
            fetch("https://cloudcertitude15-dev-ed.develop.my.salesforce-sites.com/services/apexrest/BrightEducationSteno", requestOptions)
                .then(response => response.json())
                .then(result => {
                    if (result != 'Something went wrong please try again later.' && result != 'You don\'t buy any course.') {
                        result = JSON.parse(result);
                        console.log('result=>', result)
                        result.forEach((currentItem, idx) => {
                            const dateString = currentItem.LastModifiedDate;
                            const dateObject = new Date(dateString);

                            const formattedDate = dateObject.toLocaleDateString("en-US", {
                                month: "short",
                                day: "numeric",
                                year: "numeric",
                            });
                            let SRNo = idx + 1;

                            let words = currentItem.Audio_Text__c.trim().split(/\s+/);
                            let wordCount = words?.length;
                            const tableHTML = `<tr class="d-style bgc-h-default-l4">
                                        <td>${SRNo}</td>
                                        <td>${formattedDate}</td>
                                        <td>${currentItem.Courses__r.Name}</td>
                                        <td>${currentItem.Test_Language__c}</td>
                                        <td>${currentItem.Name}</td>
                                         
                                        <td>${wordCount} Words</td> 

                                         <td>
                                    <center>
                                        <a href="TypingTest.html?Id=${currentItem.Id}"><button class="btn btn-sm btn-success" style="background-color: #21336a;" onclick="handleStartTest('${currentItem.Id}')"><i
                                            class="fas fa-play"></i> Start
                                            Typing</button></a>

                                    </center>
                                </td>

                                    </tr>`;
                            TableData.innerHTML += tableHTML;
                        })

                    } else {
                        const tableHTML = `<tr class="d-style bgc-h-default-l4">
                                        <td style="text-align: center;background: #8c93aa;" colspan="8">${result}</td>
                                         

                                    </tr>`;
                        TableData.innerHTML += tableHTML;
                    }

                })
                .catch(error => console.log('error=', error));

        })
        //Random Quotes Api URL

        window.onload = () => {
            userInput.value = "";
            document.getElementById("start-test").style.display = "block";

        };
    </Script>

    <script>
        var refreshTime = 420000; // every 10 minutes in milliseconds
        window.setInterval(function () {
            $.ajax({
                cache: false,
                type: "GET",
                url: "refresh_session.php?login_mobile=7878438668",
                success: function (data) {
                    if (data == 'duplicate') {
                        alert('Duplicate Session: Do Not Use Your ID in Another Device.');
                        window.location = "login.php";
                    }
                }
            });
        }, refreshTime);
    </script>

    <!-- include common vendor scripts used in demo pages -->
    <script src="js/jsone.js"></script>
    <script src="js/jstwo.js"></script>
    <script src="js/jsthree.js"></script>
    <script>
        document.addEventListener("contextmenu", (event) => {
            event.preventDefault();
        });
    </script>


    <!-- include ace.js -->
    
    <!-- <script defer src="assets/js/main.js"></script>
    <script defer src="assets/js/MyComponents.js"></script> -->
</body>

</html>